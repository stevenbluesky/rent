<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.rent.dao.PrhMasterMapper">
	<resultMap id="BaseResultMap" type="com.rent.entity.PrhMaster">
		<id column="ID" property="id" jdbcType="DECIMAL" />
		<result column="ORG_ID" property="orgId" jdbcType="VARCHAR" />
		<result column="GUEST_NO" property="guestNo" jdbcType="VARCHAR" />
		<result column="HOUSE_ID" property="houseId" jdbcType="DECIMAL" />
		<result column="STA" property="sta" jdbcType="CHAR" />
		<result column="Type" property="type" jdbcType="CHAR" />
		<result column="SRC" property="src" jdbcType="CHAR" />
		<result column="FILE_NO" property="fileNo" jdbcType="VARCHAR" />
		<result column="BDATE" property="bdate" jdbcType="DATE" />
		<result column="EDATE" property="edate" jdbcType="DATE" />
		<result column="RATE" property="rate" jdbcType="DECIMAL" />
		<result column="SETRATE" property="setrate" jdbcType="DECIMAL" />
		<result column="REASON" property="reason" jdbcType="VARCHAR" />
		<result column="NUMBS" property="numbs" jdbcType="DECIMAL" />
		<result column="ARRTIME" property="arrtime" jdbcType="DATE" />
		<result column="DEP" property="dep" jdbcType="DATE" />
		<result column="ARR1" property="arr1" jdbcType="DATE" />
		<result column="DEP1" property="dep1" jdbcType="DATE" />
		<result column="DEPOSIT" property="deposit" jdbcType="DECIMAL" />
		<result column="RENT_CODE" property="rentCode" jdbcType="DECIMAL" />
		<result column="RENT_DATE" property="rentDate" jdbcType="DATE" />
		<result column="REMARK" property="remark" jdbcType="VARCHAR" />
		<result column="PAYMENT" property="payment" jdbcType="DECIMAL" />
		<result column="EXPEND" property="expend" jdbcType="DECIMAL" />
		<result column="CRT" property="crt" jdbcType="VARCHAR" />
		<result column="CRTTIME" property="crttime" jdbcType="DATE" />
		<result column="RES" property="res" jdbcType="VARCHAR" />
		<result column="RESTIME" property="restime" jdbcType="DATE" />
		<result column="CON" property="con" jdbcType="VARCHAR" />
		<result column="CONTIME" property="contime" jdbcType="DATE" />
		<result column="CI" property="ci" jdbcType="VARCHAR" />
		<result column="CITIME" property="citime" jdbcType="DATE" />
		<result column="CO" property="co" jdbcType="VARCHAR" />
		<result column="COTIME" property="cotime" jdbcType="DATE" />
		<result column="LOGID" property="logid" jdbcType="VARCHAR" />
		<result column="LOG_NAME" property="logName" jdbcType="VARCHAR" />
		<result column="LOG_DATE" property="logDate" jdbcType="DATE" />
		<result column="LOG_MARK" property="logMark" jdbcType="DECIMAL" />
		<result column="BANK_FLAG" property="bankFlag" jdbcType="CHAR" />
		<result column="BANK" property="bank" jdbcType="VARCHAR" />
		<result column="BANK_NO" property="bankNo" jdbcType="VARCHAR" />
		<result column="DEP_FLAG" property="depFlag" jdbcType="CHAR" />
		<result column="DEP_APPLY" property="depApply" jdbcType="DATE" />
		<result column="DEP_FILE_NO" property="depFileNo" jdbcType="VARCHAR" />
		<result column="REL_FLAG" property="relFlag" jdbcType="CHAR" />
		<result column="RELID" property="relid" jdbcType="VARCHAR" />
		<result column="REL_DATE" property="relDate" jdbcType="DATE" />
		<result column="REFER1" property="refer1" jdbcType="VARCHAR" />
		<result column="REFER2" property="refer2" jdbcType="VARCHAR" />
		<result column="REFER3" property="refer3" jdbcType="VARCHAR" />
		<result column="REFER4" property="refer4" jdbcType="VARCHAR" />
		<result column="BDATE2" property="bdate2" jdbcType="DATE" />
		<result column="CUSNO" property="cusno" jdbcType="VARCHAR" />
		<result column="PRCODE" property="prcode" jdbcType="CHAR" />
		<result column="PDCODE" property="pdcode" jdbcType="CHAR" />
		<result column="LOG_UPDATE" property="logUpdate" jdbcType="DATE" />
		<result column="BANK_REF" property="bankRef" jdbcType="VARCHAR" />
		<result column="TAG1" property="tag1" jdbcType="VARCHAR" />
		<result column="TAG2" property="tag2" jdbcType="VARCHAR" />
		<result column="TAG3" property="tag3" jdbcType="VARCHAR" />
		<result column="TAG4" property="tag4" jdbcType="VARCHAR" />
		<result column="PIC_IDENTITY" property="picIdentity" jdbcType="VARCHAR" />
		<result column="PIC_PHOTO" property="picPhoto" jdbcType="VARCHAR" />
		<result column="PHYSICS_CARD_ID" property="physicsCardId"
			jdbcType="VARCHAR" />
		<result column="DOOR_LOCK" property="doorLock" jdbcType="VARCHAR" />
		<result column="UPDATE_TIME" property="updateTime" jdbcType="DATE" />
		<result column="UPDATE_USER" property="updateUser" jdbcType="DECIMAL" />
		<result column="subsidy_Type_Id" jdbcType="DECIMAL" property="subsidyTypeId" />
		<result column="OLD_MASTER_ID" jdbcType="DECIMAL" property="oldMasterId" />
		<result column="new_MASTER_ID" jdbcType="DECIMAL" property="newMasterId" />

		<result column="CREATEUSER" property="createuser" jdbcType="VARCHAR" />
		<result column="CREATETIME" property="createtime" jdbcType="DATE" />

		<result column="tuimoney" property="tuimoney" jdbcType="DECIMAL" />
		<result column="tuidate" property="tuidate" jdbcType="DATE" />

		<result column="tuidesposit" property="tuidesposit" jdbcType="DECIMAL" />
		<result column="collect_money" property="collectMoney"
			jdbcType="DECIMAL" />

		<result column="batch" property="batch" jdbcType="VARCHAR" />




	</resultMap>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu May 11 
			11:59:24 CST 2017. -->
		ID, ORG_ID, GUEST_NO, HOUSE_ID, STA, `TYPE`, SRC, FILE_NO, BDATE, EDATE,
		RATE, SETRATE,
		REASON, NUMBS, ARRTIME, DEP, ARR1, DEP1, DEPOSIT,
		RENT_CODE, RENT_DATE,
		REMARK, PAYMENT,
		EXPEND, CRT, CRTTIME, RES,
		RESTIME, CON, CONTIME, CI, CITIME, CO, COTIME,
		LOGID,
		LOG_NAME,
		LOG_DATE, LOG_MARK, BANK_FLAG, BANK, BANK_NO, DEP_FLAG, DEP_APPLY,
		DEP_FILE_NO,
		REL_FLAG, RELID, REL_DATE, REFER1, REFER2, REFER3, REFER4,
		BDATE2, CUSNO,
		PRCODE,
		PDCODE, LOG_UPDATE, BANK_REF, TAG1, TAG2, TAG3,
		TAG4, PIC_IDENTITY,
		PIC_PHOTO, PHYSICS_CARD_ID,
		DOOR_LOCK, UPDATE_TIME,
		UPDATE_USER,subsidy_type_id,OLD_MASTER_ID,new_Master_Id,
		createuser,createtime
		,tuimoney,tuidate,tuidesposit,collect_money,batch
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu May 11 
			11:59:24 CST 2017. -->
		select
		<include refid="Base_Column_List" />
		from PRH_MASTER
		where ID = #{id,jdbcType=DECIMAL}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu May 11 
			11:59:24 CST 2017. -->
		delete from PRH_MASTER
		where ID = #{id,jdbcType=DECIMAL}
	</delete>
	<insert id="insert" parameterType="com.rent.entity.PrhMaster">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu May 11 
			11:59:24 CST 2017. -->
		insert into PRH_MASTER (ORG_ID, GUEST_NO,
		HOUSE_ID, STA, type, SRC,
		FILE_NO, BDATE, EDATE, RATE,
		SETRATE, REASON, NUMBS,
		ARRTIME, DEP, ARR1,
		DEP1,
		DEPOSIT, RENT_CODE, RENT_DATE,
		REMARK, PAYMENT, EXPEND,
		CRT,
		CRTTIME, RES, RESTIME,
		CON, CONTIME, CI, CITIME,
		CO, COTIME, LOGID,
		LOG_NAME,
		LOG_DATE, LOG_MARK, BANK_FLAG,
		BANK, BANK_NO, DEP_FLAG,
		DEP_APPLY, DEP_FILE_NO, REL_FLAG,
		RELID, REL_DATE, REFER1,
		REFER2,
		REFER3, REFER4,
		BDATE2, CUSNO, PRCODE, PDCODE,
		LOG_UPDATE, BANK_REF,
		TAG1,
		TAG2, TAG3, TAG4, PIC_IDENTITY,
		PIC_PHOTO, PHYSICS_CARD_ID,
		DOOR_LOCK,
		UPDATE_TIME,
		UPDATE_USER,subsidy_type_id,OLD_MASTER_ID,new_MASTER_ID,createuser,
		createtime,tuimoney,tuidate,tuidesposit ,collect_money,batch)
		values
		(#{orgId,jdbcType=VARCHAR},
		#{guestNo,jdbcType=VARCHAR},
		#{houseId,jdbcType=DECIMAL},
		#{sta,jdbcType=CHAR}, #{type,jdbcType=CHAR}, #{src,jdbcType=CHAR},
		#{fileNo,jdbcType=VARCHAR}, #{bdate,jdbcType=DATE},
		#{edate,jdbcType=DATE}, #{rate,jdbcType=DECIMAL},
		#{setrate,jdbcType=DECIMAL}, #{reason,jdbcType=VARCHAR},
		#{numbs,jdbcType=DECIMAL},
		#{arrtime,jdbcType=DATE},
		#{dep,jdbcType=DATE}, #{arr1,jdbcType=DATE}, #{dep1,jdbcType=DATE},
		#{deposit,jdbcType=DECIMAL}, #{rentCode,jdbcType=DECIMAL},
		#{rentDate,jdbcType=DATE},
		#{remark,jdbcType=VARCHAR},
		#{payment,jdbcType=DECIMAL}, #{expend,jdbcType=DECIMAL},
		#{crt,jdbcType=VARCHAR}, #{crttime,jdbcType=DATE},
		#{res,jdbcType=VARCHAR}, #{restime,jdbcType=DATE},
		#{con,jdbcType=VARCHAR}, #{contime,jdbcType=DATE},
		#{ci,jdbcType=VARCHAR}, #{citime,jdbcType=DATE},
		#{co,jdbcType=VARCHAR}, #{cotime,jdbcType=DATE},
		#{logid,jdbcType=VARCHAR}, #{logName,jdbcType=VARCHAR},
		#{logDate,jdbcType=DATE}, #{logMark,jdbcType=DECIMAL},
		#{bankFlag,jdbcType=CHAR},
		#{bank,jdbcType=VARCHAR},
		#{bankNo,jdbcType=VARCHAR}, #{depFlag,jdbcType=CHAR},
		#{depApply,jdbcType=DATE}, #{depFileNo,jdbcType=VARCHAR},
		#{relFlag,jdbcType=CHAR},
		#{relid,jdbcType=VARCHAR},
		#{relDate,jdbcType=DATE}, #{refer1,jdbcType=VARCHAR},
		#{refer2,jdbcType=VARCHAR}, #{refer3,jdbcType=VARCHAR},
		#{refer4,jdbcType=VARCHAR},
		#{bdate2,jdbcType=DATE},
		#{cusno,jdbcType=VARCHAR}, #{prcode,jdbcType=CHAR},
		#{pdcode,jdbcType=CHAR},
		#{logUpdate,jdbcType=DATE},
		#{bankRef,jdbcType=VARCHAR}, #{tag1,jdbcType=VARCHAR},
		#{tag2,jdbcType=VARCHAR}, #{tag3,jdbcType=VARCHAR},
		#{tag4,jdbcType=VARCHAR}, #{picIdentity,jdbcType=VARCHAR},
		#{picPhoto,jdbcType=VARCHAR}, #{physicsCardId,jdbcType=VARCHAR},
		#{doorLock,jdbcType=VARCHAR},#{updateTime,jdbcType=DATE},
		#{updateUser,jdbcType=DECIMAL},#{subsidyTypeId,jdbcType=DECIMAL},
		#{oldMasterId,jdbcType=DECIMAL},#{newMasterId,jdbcType=DECIMAL},
		#{createuser,jdbcType=VARCHAR},#{createtime,jdbcType=DATE},
		#{tuimoney,jdbcType=DECIMAL},#{tuidate,jdbcType=DATE},
		#{tuidesposit,jdbcType=DECIMAL},#{collectMoney},#{batch}
		)
	</insert>
	<insert id="insertSelective" parameterType="com.rent.entity.PrhMaster">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu May 11 
			11:59:24 CST 2017. -->
		insert into PRH_MASTER
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				ID,
			</if>
			<if test="orgId != null">
				ORG_ID,
			</if>
			<if test="guestNo != null">
				GUEST_NO,
			</if>
			<if test="houseId != null">
				HOUSE_ID,
			</if>
			<if test="sta != null">
				STA,
			</if>
			<if test="type != null">
				TYPE,
			</if>
			<if test="src != null">
				SRC,
			</if>
			<if test="fileNo != null">
				FILE_NO,
			</if>
			<if test="bdate != null">
				BDATE,
			</if>
			<if test="edate != null">
				EDATE,
			</if>
			<if test="rate != null">
				RATE,
			</if>
			<if test="setrate != null">
				SETRATE,
			</if>
			<if test="reason != null">
				REASON,
			</if>
			<if test="numbs != null">
				NUMBS,
			</if>
			<if test="arrtime != null">
				ARRTIME,
			</if>
			<if test="dep != null">
				DEP,
			</if>
			<if test="arr1 != null">
				ARR1,
			</if>
			<if test="dep1 != null">
				DEP1,
			</if>
			<if test="deposit != null">
				DEPOSIT,
			</if>
			<if test="rentCode != null">
				RENT_CODE,
			</if>
			<if test="rentDate != null">
				RENT_DATE,
			</if>
			<if test="remark != null">
				REMARK,
			</if>
			<if test="payment != null">
				PAYMENT,
			</if>
			<if test="expend != null">
				EXPEND,
			</if>
			<if test="crt != null">
				CRT,
			</if>
			<if test="crttime != null">
				CRTTIME,
			</if>
			<if test="res != null">
				RES,
			</if>
			<if test="restime != null">
				RESTIME,
			</if>
			<if test="con != null">
				CON,
			</if>
			<if test="contime != null">
				CONTIME,
			</if>
			<if test="ci != null">
				CI,
			</if>
			<if test="citime != null">
				CITIME,
			</if>
			<if test="co != null">
				CO,
			</if>
			<if test="cotime != null">
				COTIME,
			</if>
			<if test="logid != null">
				LOGID,
			</if>
			<if test="logName != null">
				LOG_NAME,
			</if>
			<if test="logDate != null">
				LOG_DATE,
			</if>
			<if test="logMark != null">
				LOG_MARK,
			</if>
			<if test="bankFlag != null">
				BANK_FLAG,
			</if>
			<if test="bank != null">
				BANK,
			</if>
			<if test="bankNo != null">
				BANK_NO,
			</if>
			<if test="depFlag != null">
				DEP_FLAG,
			</if>
			<if test="depApply != null">
				DEP_APPLY,
			</if>
			<if test="depFileNo != null">
				DEP_FILE_NO,
			</if>
			<if test="relFlag != null">
				REL_FLAG,
			</if>
			<if test="relid != null">
				RELID,
			</if>
			<if test="relDate != null">
				REL_DATE,
			</if>
			<if test="refer1 != null">
				REFER1,
			</if>
			<if test="refer2 != null">
				REFER2,
			</if>
			<if test="refer3 != null">
				REFER3,
			</if>
			<if test="refer4 != null">
				REFER4,
			</if>
			<if test="bdate2 != null">
				BDATE2,
			</if>
			<if test="cusno != null">
				CUSNO,
			</if>
			<if test="prcode != null">
				PRCODE,
			</if>
			<if test="pdcode != null">
				PDCODE,
			</if>
			<if test="logUpdate != null">
				LOG_UPDATE,
			</if>
			<if test="bankRef != null">
				BANK_REF,
			</if>
			<if test="tag1 != null">
				TAG1,
			</if>
			<if test="tag2 != null">
				TAG2,
			</if>
			<if test="tag3 != null">
				TAG3,
			</if>
			<if test="tag4 != null">
				TAG4,
			</if>
			<if test="picIdentity != null">
				PIC_IDENTITY,
			</if>
			<if test="picPhoto != null">
				PIC_PHOTO,
			</if>
			<if test="physicsCardId != null">
				PHYSICS_CARD_ID,
			</if>
			<if test="doorLock != null">
				DOOR_LOCK,
			</if>
			<if test="updateTime != null">
				UPDATE_TIME,
			</if>
			<if test="updateUser != null">
				UPDATE_USER,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=DECIMAL},
			</if>
			<if test="orgId != null">
				#{orgId,jdbcType=VARCHAR},
			</if>
			<if test="guestNo != null">
				#{guestNo,jdbcType=VARCHAR},
			</if>
			<if test="houseId != null">
				#{houseId,jdbcType=DECIMAL},
			</if>
			<if test="sta != null">
				#{sta,jdbcType=CHAR},
			</if>
			<if test="type != null">
				#{type,jdbcType=CHAR},
			</if>
			<if test="src != null">
				#{src,jdbcType=CHAR},
			</if>
			<if test="fileNo != null">
				#{fileNo,jdbcType=VARCHAR},
			</if>
			<if test="bdate != null">
				#{bdate,jdbcType=DATE},
			</if>
			<if test="edate != null">
				#{edate,jdbcType=DATE},
			</if>
			<if test="rate != null">
				#{rate,jdbcType=DECIMAL},
			</if>
			<if test="setrate != null">
				#{setrate,jdbcType=DECIMAL},
			</if>
			<if test="reason != null">
				#{reason,jdbcType=VARCHAR},
			</if>
			<if test="numbs != null">
				#{numbs,jdbcType=DECIMAL},
			</if>
			<if test="arrtime != null">
				#{arrtime,jdbcType=DATE},
			</if>
			<if test="dep != null">
				#{dep,jdbcType=DATE},
			</if>
			<if test="arr1 != null">
				#{arr1,jdbcType=DATE},
			</if>
			<if test="dep1 != null">
				#{dep1,jdbcType=DATE},
			</if>
			<if test="deposit != null">
				#{deposit,jdbcType=DECIMAL},
			</if>
			<if test="rentCode != null">
				#{rentCode,jdbcType=DECIMAL},
			</if>
			<if test="rentDate != null">
				#{rentDate,jdbcType=DATE},
			</if>
			<if test="remark != null">
				#{remark,jdbcType=VARCHAR},
			</if>
			<if test="payment != null">
				#{payment,jdbcType=DECIMAL},
			</if>
			<if test="expend != null">
				#{expend,jdbcType=DECIMAL},
			</if>
			<if test="crt != null">
				#{crt,jdbcType=VARCHAR},
			</if>
			<if test="crttime != null">
				#{crttime,jdbcType=DATE},
			</if>
			<if test="res != null">
				#{res,jdbcType=VARCHAR},
			</if>
			<if test="restime != null">
				#{restime,jdbcType=DATE},
			</if>
			<if test="con != null">
				#{con,jdbcType=VARCHAR},
			</if>
			<if test="contime != null">
				#{contime,jdbcType=DATE},
			</if>
			<if test="ci != null">
				#{ci,jdbcType=VARCHAR},
			</if>
			<if test="citime != null">
				#{citime,jdbcType=DATE},
			</if>
			<if test="co != null">
				#{co,jdbcType=VARCHAR},
			</if>
			<if test="cotime != null">
				#{cotime,jdbcType=DATE},
			</if>
			<if test="logid != null">
				#{logid,jdbcType=VARCHAR},
			</if>
			<if test="logName != null">
				#{logName,jdbcType=VARCHAR},
			</if>
			<if test="logDate != null">
				#{logDate,jdbcType=DATE},
			</if>
			<if test="logMark != null">
				#{logMark,jdbcType=DECIMAL},
			</if>
			<if test="bankFlag != null">
				#{bankFlag,jdbcType=CHAR},
			</if>
			<if test="bank != null">
				#{bank,jdbcType=VARCHAR},
			</if>
			<if test="bankNo != null">
				#{bankNo,jdbcType=VARCHAR},
			</if>
			<if test="depFlag != null">
				#{depFlag,jdbcType=CHAR},
			</if>
			<if test="depApply != null">
				#{depApply,jdbcType=DATE},
			</if>
			<if test="depFileNo != null">
				#{depFileNo,jdbcType=VARCHAR},
			</if>
			<if test="relFlag != null">
				#{relFlag,jdbcType=CHAR},
			</if>
			<if test="relid != null">
				#{relid,jdbcType=VARCHAR},
			</if>
			<if test="relDate != null">
				#{relDate,jdbcType=DATE},
			</if>
			<if test="refer1 != null">
				#{refer1,jdbcType=VARCHAR},
			</if>
			<if test="refer2 != null">
				#{refer2,jdbcType=VARCHAR},
			</if>
			<if test="refer3 != null">
				#{refer3,jdbcType=VARCHAR},
			</if>
			<if test="refer4 != null">
				#{refer4,jdbcType=VARCHAR},
			</if>
			<if test="bdate2 != null">
				#{bdate2,jdbcType=DATE},
			</if>
			<if test="cusno != null">
				#{cusno,jdbcType=VARCHAR},
			</if>
			<if test="prcode != null">
				#{prcode,jdbcType=CHAR},
			</if>
			<if test="pdcode != null">
				#{pdcode,jdbcType=CHAR},
			</if>
			<if test="logUpdate != null">
				#{logUpdate,jdbcType=DATE},
			</if>
			<if test="bankRef != null">
				#{bankRef,jdbcType=VARCHAR},
			</if>
			<if test="tag1 != null">
				#{tag1,jdbcType=VARCHAR},
			</if>
			<if test="tag2 != null">
				#{tag2,jdbcType=VARCHAR},
			</if>
			<if test="tag3 != null">
				#{tag3,jdbcType=VARCHAR},
			</if>
			<if test="tag4 != null">
				#{tag4,jdbcType=VARCHAR},
			</if>
			<if test="picIdentity != null">
				#{picIdentity,jdbcType=VARCHAR},
			</if>
			<if test="picPhoto != null">
				#{picPhoto,jdbcType=VARCHAR},
			</if>
			<if test="physicsCardId != null">
				#{physicsCardId,jdbcType=VARCHAR},
			</if>
			<if test="doorLock != null">
				#{doorLock,jdbcType=VARCHAR},
			</if>
			<if test="updateTime != null">
				#{updateTime,jdbcType=DATE},
			</if>
			<if test="updateUser != null">
				#{updateUser,jdbcType=DECIMAL},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="com.rent.entity.PrhMaster">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu May 11 
			11:59:24 CST 2017. -->
		update PRH_MASTER
		<set>
			<if test="orgId != null">
				ORG_ID = #{orgId,jdbcType=VARCHAR},
			</if>
			<if test="guestNo != null">
				GUEST_NO = #{guestNo,jdbcType=VARCHAR},
			</if>
			<if test="houseId != null">
				HOUSE_ID = #{houseId,jdbcType=DECIMAL},
			</if>
			<if test="sta != null">
				STA = #{sta,jdbcType=CHAR},
			</if>
			<if test="type != null">
				TYPE = #{type,jdbcType=CHAR},
			</if>
			<if test="src != null">
				SRC = #{src,jdbcType=CHAR},
			</if>
			<if test="fileNo != null">
				FILE_NO = #{fileNo,jdbcType=VARCHAR},
			</if>
			<if test="bdate != null">
				BDATE = #{bdate,jdbcType=DATE},
			</if>
			<if test="edate != null">
				EDATE = #{edate,jdbcType=DATE},
			</if>
			<if test="rate != null">
				RATE = #{rate,jdbcType=DECIMAL},
			</if>
			<if test="setrate != null">
				SETRATE = #{setrate,jdbcType=DECIMAL},
			</if>
			<if test="reason != null">
				REASON = #{reason,jdbcType=VARCHAR},
			</if>
			<if test="numbs != null">
				NUMBS = #{numbs,jdbcType=DECIMAL},
			</if>
			<if test="arrtime != null">
				ARRTIME = #{arrtime,jdbcType=DATE},
			</if>
			<if test="dep != null">
				DEP = #{dep,jdbcType=DATE},
			</if>
			<if test="arr1 != null">
				ARR1 = #{arr1,jdbcType=DATE},
			</if>
			<if test="dep1 != null">
				DEP1 = #{dep1,jdbcType=DATE},
			</if>
			<if test="deposit != null">
				DEPOSIT = #{deposit,jdbcType=DECIMAL},
			</if>
			<if test="rentCode != null">
				RENT_CODE = #{rentCode,jdbcType=DECIMAL},
			</if>
			<if test="rentDate != null">
				RENT_DATE = #{rentDate,jdbcType=DATE},
			</if>
			<if test="remark != null">
				REMARK = #{remark,jdbcType=VARCHAR},
			</if>
			<if test="payment != null">
				PAYMENT = #{payment,jdbcType=DECIMAL},
			</if>
			<if test="expend != null">
				EXPEND = #{expend,jdbcType=DECIMAL},
			</if>
			<if test="crt != null">
				CRT = #{crt,jdbcType=VARCHAR},
			</if>
			<if test="crttime != null">
				CRTTIME = #{crttime,jdbcType=DATE},
			</if>
			<if test="res != null">
				RES = #{res,jdbcType=VARCHAR},
			</if>
			<if test="restime != null">
				RESTIME = #{restime,jdbcType=DATE},
			</if>
			<if test="con != null">
				CON = #{con,jdbcType=VARCHAR},
			</if>
			<if test="contime != null">
				CONTIME = #{contime,jdbcType=DATE},
			</if>
			<if test="ci != null">
				CI = #{ci,jdbcType=VARCHAR},
			</if>
			<if test="citime != null">
				CITIME = #{citime,jdbcType=DATE},
			</if>
			<if test="co != null">
				CO = #{co,jdbcType=VARCHAR},
			</if>
			<if test="cotime != null">
				COTIME = #{cotime,jdbcType=DATE},
			</if>
			<if test="logid != null">
				LOGID = #{logid,jdbcType=VARCHAR},
			</if>
			<if test="logName != null">
				LOG_NAME = #{logName,jdbcType=VARCHAR},
			</if>
			<if test="logDate != null">
				LOG_DATE = #{logDate,jdbcType=DATE},
			</if>
			<if test="logMark != null">
				LOG_MARK = #{logMark,jdbcType=DECIMAL},
			</if>
			<if test="bankFlag != null">
				BANK_FLAG = #{bankFlag,jdbcType=CHAR},
			</if>
			<if test="bank != null">
				BANK = #{bank,jdbcType=VARCHAR},
			</if>
			<if test="bankNo != null">
				BANK_NO = #{bankNo,jdbcType=VARCHAR},
			</if>
			<if test="depFlag != null">
				DEP_FLAG = #{depFlag,jdbcType=CHAR},
			</if>
			<if test="depApply != null">
				DEP_APPLY = #{depApply,jdbcType=DATE},
			</if>
			<if test="depFileNo != null">
				DEP_FILE_NO = #{depFileNo,jdbcType=VARCHAR},
			</if>
			<if test="relFlag != null">
				REL_FLAG = #{relFlag,jdbcType=CHAR},
			</if>
			<if test="relid != null">
				RELID = #{relid,jdbcType=VARCHAR},
			</if>
			<if test="relDate != null">
				REL_DATE = #{relDate,jdbcType=DATE},
			</if>
			<if test="refer1 != null">
				REFER1 = #{refer1,jdbcType=VARCHAR},
			</if>
			<if test="refer2 != null">
				REFER2 = #{refer2,jdbcType=VARCHAR},
			</if>
			<if test="refer3 != null">
				REFER3 = #{refer3,jdbcType=VARCHAR},
			</if>
			<if test="refer4 != null">
				REFER4 = #{refer4,jdbcType=VARCHAR},
			</if>
			<if test="bdate2 != null">
				BDATE2 = #{bdate2,jdbcType=DATE},
			</if>
			<if test="cusno != null">
				CUSNO = #{cusno,jdbcType=VARCHAR},
			</if>
			<if test="prcode != null">
				PRCODE = #{prcode,jdbcType=CHAR},
			</if>
			<if test="pdcode != null">
				PDCODE = #{pdcode,jdbcType=CHAR},
			</if>
			<if test="logUpdate != null">
				LOG_UPDATE = #{logUpdate,jdbcType=DATE},
			</if>
			<if test="bankRef != null">
				BANK_REF = #{bankRef,jdbcType=VARCHAR},
			</if>
			<if test="tag1 != null">
				TAG1 = #{tag1,jdbcType=VARCHAR},
			</if>
			<if test="tag2 != null">
				TAG2 = #{tag2,jdbcType=VARCHAR},
			</if>
			<if test="tag3 != null">
				TAG3 = #{tag3,jdbcType=VARCHAR},
			</if>
			<if test="tag4 != null">
				TAG4 = #{tag4,jdbcType=VARCHAR},
			</if>
			<if test="picIdentity != null">
				PIC_IDENTITY = #{picIdentity,jdbcType=VARCHAR},
			</if>
			<if test="picPhoto != null">
				PIC_PHOTO = #{picPhoto,jdbcType=VARCHAR},
			</if>
			<if test="physicsCardId != null">
				PHYSICS_CARD_ID = #{physicsCardId,jdbcType=VARCHAR},
			</if>
			<if test="doorLock != null">
				DOOR_LOCK = #{doorLock,jdbcType=VARCHAR},
			</if>
			<if test="updateTime != null">
				UPDATE_TIME = #{updateTime,jdbcType=DATE},
			</if>
			<if test="updateUser != null">
				UPDATE_USER = #{updateUser,jdbcType=DECIMAL},
			</if>

			<if test="collectMoney != null">
				collect_money= #{collectMoney,jdbcType=DECIMAL},
			</if>

		</set>
		where ID = #{id,jdbcType=DECIMAL}
	</update>







	<update id="updateByPrimaryKey" parameterType="com.rent.entity.PrhMaster">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Thu May 11 
			11:59:24 CST 2017. -->
		update PRH_MASTER
		set ORG_ID = #{orgId,jdbcType=VARCHAR},
		GUEST_NO =
		#{guestNo,jdbcType=VARCHAR},
		HOUSE_ID = #{houseId,jdbcType=DECIMAL},
		STA = #{sta,jdbcType=CHAR},
		TYPE = #{type,jdbcType=CHAR},
		SRC
		=#{src,jdbcType=CHAR},
		FILE_NO = #{fileNo,jdbcType=VARCHAR},
		BDATE =
		#{bdate,jdbcType=DATE},
		EDATE = #{edate,jdbcType=DATE},
		RATE =
		#{rate,jdbcType=DECIMAL},
		SETRATE = #{setrate,jdbcType=DECIMAL},
		REASON
		= #{reason,jdbcType=VARCHAR},
		NUMBS = #{numbs,jdbcType=DECIMAL},
		ARRTIME = #{arrtime,jdbcType=DATE},
		DEP = #{dep,jdbcType=DATE},
		ARR1 =
		#{arr1,jdbcType=DATE},
		DEP1 = #{dep1,jdbcType=DATE},
		DEPOSIT =
		#{deposit,jdbcType=DECIMAL},
		RENT_CODE = #{rentCode,jdbcType=DECIMAL},
		RENT_DATE = #{rentDate,jdbcType=DATE},
		REMARK =
		#{remark,jdbcType=VARCHAR},
		PAYMENT = #{payment,jdbcType=DECIMAL},
		EXPEND = #{expend,jdbcType=DECIMAL},
		CRT = #{crt,jdbcType=VARCHAR},
		CRTTIME = #{crttime,jdbcType=DATE},
		RES = #{res,jdbcType=VARCHAR},
		RESTIME = #{restime,jdbcType=DATE},
		CON = #{con,jdbcType=VARCHAR},
		CONTIME = #{contime,jdbcType=DATE},
		CI = #{ci,jdbcType=VARCHAR},
		CITIME
		= #{citime,jdbcType=DATE},
		CO = #{co,jdbcType=VARCHAR},
		COTIME =
		#{cotime,jdbcType=DATE},
		LOGID = #{logid,jdbcType=VARCHAR},
		LOG_NAME =
		#{logName,jdbcType=VARCHAR},
		LOG_DATE = #{logDate,jdbcType=DATE},
		LOG_MARK = #{logMark,jdbcType=DECIMAL},
		BANK_FLAG =
		#{bankFlag,jdbcType=CHAR},
		BANK = #{bank,jdbcType=VARCHAR},
		BANK_NO =
		#{bankNo,jdbcType=VARCHAR},
		DEP_FLAG = #{depFlag,jdbcType=CHAR},
		DEP_APPLY = #{depApply,jdbcType=DATE},
		DEP_FILE_NO =
		#{depFileNo,jdbcType=VARCHAR},
		REL_FLAG = #{relFlag,jdbcType=CHAR},
		RELID = #{relid,jdbcType=VARCHAR},
		REL_DATE = #{relDate,jdbcType=DATE},
		REFER1 = #{refer1,jdbcType=VARCHAR},
		REFER2 =
		#{refer2,jdbcType=VARCHAR},
		REFER3 = #{refer3,jdbcType=VARCHAR},
		REFER4
		= #{refer4,jdbcType=VARCHAR},
		BDATE2 = #{bdate2,jdbcType=DATE},
		CUSNO =
		#{cusno,jdbcType=VARCHAR},
		PRCODE = #{prcode,jdbcType=CHAR},
		PDCODE =
		#{pdcode,jdbcType=CHAR},
		LOG_UPDATE = #{logUpdate,jdbcType=DATE},
		BANK_REF = #{bankRef,jdbcType=VARCHAR},
		TAG1 =
		#{tag1,jdbcType=VARCHAR},
		TAG2 = #{tag2,jdbcType=VARCHAR},
		TAG3 =
		#{tag3,jdbcType=VARCHAR},
		TAG4 = #{tag4,jdbcType=VARCHAR},
		PIC_IDENTITY
		= #{picIdentity,jdbcType=VARCHAR},
		PIC_PHOTO =
		#{picPhoto,jdbcType=VARCHAR},
		PHYSICS_CARD_ID =
		#{physicsCardId,jdbcType=VARCHAR},
		DOOR_LOCK =
		#{doorLock,jdbcType=VARCHAR},
		UPDATE_TIME =
		#{updateTime,jdbcType=DATE},
		UPDATE_USER =
		#{updateUser,jdbcType=DECIMAL},
		subsidy_type_id=#{subsidyTypeId,jdbcType=DECIMAL} ,
		old_Master_Id=
		#{oldMasterId,jdbcType=DECIMAL},
		new_Master_Id=
		#{newMasterId,jdbcType=DECIMAL},
		createuser=#{createuser,jdbcType=VARCHAR},
		createtime=#{createtime,jdbcType=DATE},
		tuimoney=#{tuimoney,jdbcType=DECIMAL},
		tuidate=#{tuidate,jdbcType=DATE},
		tuidesposit=
		#{tuidesposit,jdbcType=DECIMAL},
		collect_money=#{collectMoney,jdbcType=DECIMAL},
		batch=#{batch}
		where ID
		=#{id,jdbcType=DECIMAL}
	</update>



	<select id="getCurrId" resultType="java.lang.Integer">
		/*select seq_prh_master.currval from dual*/
		select id from PRH_MASTER order by id desc limit 1
	</select>


	<select id="getByAllowInNo" resultMap="BaseResultMap"
		parameterType="java.lang.String">

		select
		<include refid="Base_Column_List" />
		from PRH_MASTER
		where tag1 = #{tag1,jdbcType=VARCHAR}
	</select>

	<select id="getByContract" resultMap="BaseResultMap"
		parameterType="java.lang.String">

		select
		<include refid="Base_Column_List" />
		from PRH_MASTER
		where tag2 = #{tag2,jdbcType=VARCHAR}
	</select>
	<select id="getMasterIdBystaAndHouseId" resultMap="BaseResultMap">

		select
		<include refid="Base_Column_List" />
		from PRH_MASTER p
		where 1 =1
		<if test="houseId != null">
			and house_id= #{houseId}
		</if>
		<if test="sta != null">
			and STA= #{sta}
		</if>
	</select>

	<select id="findOverdueMasterOfRenting" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from PRH_MASTER p
		where (p.sta=1 or p.sta=6) and p.EDATE &lt;= NOW()
	</select>

	<select id="findMasterBySta" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from PRH_MASTER p
		where p.sta=4
	</select>
	<!--可退租列表 -->
	<!--可退租列表 -->
	<select id="findByCondition" resultMap="BaseResultMap"
		parameterType="com.rent.condition.MasterCondition">


		SELECT * FROM PRH_MASTER
		where
		guest_no in (select guestno from PROFILE where 1=1
		<if test="name!= null">
			and name like '%${name}%'
		</if>
		<if test="company!= null">
			and company=#{company,jdbcType=VARCHAR}
		</if>

		)
		<if test="sta != null">
			<if test="sta==1">and (sta= 1 or sta=6)</if>
			<if test="sta==2">and (sta= 2 or sta = 3 or sta=4)</if>
		</if>
		<if test="sta == null">
			and (sta= 1 or sta=2 or sta=3 or sta=4 or sta=6 )
		</if>

		<if test="leaveDate!= null">
			and cotime=#{leaveDate,jdbcType=DATE}
		</if>

		and house_id in ( select id from PR_HOUSE where 1=1
		<if test="estateId!=null">
			and estate_id=#{estateId,jdbcType=DECIMAL}
		</if>
		<if test="roomNo!=null">
			and room_No=#{roomNo}
		</if>

		<if test="buildingNoId!=null">
			and substr(building_no_id, length(building_no_id ),1) =
			#{buildingNoId}
		</if>

		<if test="buildingId!=null">
			and building_no_id in(
			select b.id from BUILDING_NO b where
			building_Id=#{buildingId}
			)
		</if>

		)
		limit #{begin,jdbcType=DECIMAL} ,#{end,jdbcType=DECIMAL}

	</select>
	<!--可退租数量 -->
	<select id="getCountByCondition" resultType="java.lang.Integer"
		parameterType="com.rent.condition.MasterCondition">

		select count(*)
		from PRH_MASTER where
		guest_no in( select guestno from
		PROFILE where 1=1
		<if test="name!= null">
			and name like '%${name}%'
		</if>
		<if test="company!= null">
			and company=#{company,jdbcType=VARCHAR}
		</if>
		)

		<if test="sta != null">
			<if test="sta==1">and (sta= 1 or sta=6)</if>
			<if test="sta==2">and (sta= 2 or sta = 3 or sta=4)</if>
		</if>
		<if test="sta == null">
			and (sta= 1 or sta=2 or sta=3 or sta=4 or sta=6 )
		</if>

		<if test="leaveDate!= null">
			and cotime=#{leaveDate,jdbcType=DATE}
		</if>
		and house_id in ( select id from PR_HOUSE where 1=1

		<if test="estateId!=null">
			and estate_id=#{estateId,jdbcType=DECIMAL}
		</if>
		<if test="roomNo!=null">
			and room_No=#{roomNo}
		</if>
		<if test="buildingNoId!=null">
			and substr(building_no_id, length(building_no_id ),1) =
			#{buildingNoId}
		</if>
		<if test="buildingId!=null">
			and building_no_id in(
			select b.id from BUILDING_NO b where
			building_Id=#{buildingId}
			)
		</if>


		)
	</select>
	<!--可续租列表 -->
	<select id="findByReletCondition" resultMap="BaseResultMap"
		parameterType="com.rent.condition.MasterReletCondition">


		SELECT * FROM PRH_MASTER
		where (sta=1 or sta=6 or sta=2 ) and ifnull(type,'xx')&lt;>'1'
		and edate>=now()
		and
		house_id in (
		select id from PR_HOUSE where 1=1
		<if test="roomNo!=null">
			and room_no=#{roomNo,jdbcType=DECIMAL}
		</if>
		<if test="estateId!=null">
			and estate_id=#{estateId,jdbcType=DECIMAL}
		</if>
		<if test="buildingNoId!=null">
			and substr(building_no_id, length(building_no_id ),1) =
			#{buildingNoId}
		</if>
		<if test="buildingId!=null">
			and building_no_id in(
			select b.id from BUILDING_NO b where
			building_Id=#{buildingId}
			)
		</if>



		)
		and guest_no in(

		select guestno from PROFILE where 1=1
		<if test="name!=null">
			and name like '%${name}%'
		</if>
		)

		limit #{begin} , #{end}
	</select>

	<!--可续租数量 -->
	<select id="getCountByReletCondition" resultType="java.lang.Integer"
		parameterType="com.rent.condition.MasterReletCondition">
		SELECT count(*) FROM PRH_MASTER
		where (sta=1 or sta=2 or sta=6) and
		ifnull(type,'xx')&lt;>'1'
		and house_id in (
		select id from PR_HOUSE where
		(state=3 or state=5)
		<if test="roomNo!=null">
			and room_no=#{roomNo,jdbcType=DECIMAL}
		</if>
		<if test="estateId!=null">
			and estate_id=#{estateId,jdbcType=DECIMAL}
		</if>
		<if test="buildingNoId!=null">
			and substr(building_no_id, length(building_no_id ),1) =
			#{buildingNoId}
		</if>
		<if test="buildingId!=null">
			and building_no_id in(
			select b.id from BUILDING_NO b where
			building_Id=#{buildingId}
			)
		</if>


		)
		and guest_no in(

		select guestno from PROFILE where 1=1
		<if test="name!=null">
			and name like '%${name}%'
		</if>
		)

	</select>


	<!--续租申请列表 -->
	<select id="findByReletApplyPaged" resultMap="BaseResultMap"
		parameterType="com.rent.condition.MasterReletCondition">

		SELECT * FROM PRH_MASTER
		where sta=5
		and house_id in (
		select id from PR_HOUSE where 1=1
		<if test="roomNo!=null">
			and room_no=#{roomNo,jdbcType=DECIMAL}
		</if>
		<if test="estateId!=null">
			and estate_id=#{estateId,jdbcType=DECIMAL}
		</if>


		<if test="buildingNoId!=null">
			and substr(building_no_id, length(building_no_id ),1) =
			#{buildingNoId}
		</if>
		<if test="buildingId!=null">
			and building_no_id in(
			select b.id from BUILDING_NO b where
			building_Id=#{buildingId}
			)
		</if>

		)
		and guest_no in(

		select guestno from PROFILE where 1=1
		<if test="name!=null">
			and name like '%${name}%'
		</if>
		)
		limit #{begin} , #{end}

	</select>
	<!--续租申请数量 -->
	<select id="getCountByReletApplyPaged" resultType="java.lang.Integer"
		parameterType="com.rent.condition.MasterReletCondition">

		SELECT count(*) FROM PRH_MASTER where sta=5
		and house_id in (
		select id
		from PR_HOUSE where 1=1
		<if test="roomNo!=null">
			and room_no=#{roomNo,jdbcType=DECIMAL}
		</if>
		<if test="estateId!=null">
			and estate_id=#{estateId,jdbcType=DECIMAL}
		</if>
		<if test="buildingNoId!=null">
			and substr(building_no_id, length(building_no_id ),1) =
			#{buildingNoId}
		</if>
		<if test="buildingId!=null">
			and building_no_id in(
			select b.id from BUILDING_NO b where
			building_Id=#{buildingId}
			)
		</if>
		)
		and guest_no in(

		select guestno from PROFILE where 1=1
		<if test="name!=null">
			and name like '%${name}%'
		</if>
		)

	</select>
	<!--登记主单列表 -->
	<select id="findByCheckInRecordPaged" resultMap="BaseResultMap"
		parameterType="com.rent.condition.MasterReletCondition">

		SELECT * FROM PRH_MASTER
		where edate>now() and (sta =1 or sta=2 or sta=5 or sta=6 or sta=7 or
		sta=8 or sta=9)

		and house_id in (
		select id from PR_HOUSE where 1=1
		<!-- and state=2 -->
		<if test="roomNo!=null">
			and room_no=#{roomNo,jdbcType=DECIMAL}
		</if>
		<if test="estateId!=null">
			and estate_id=#{estateId,jdbcType=DECIMAL}
		</if>
		<if test="buildingNoId!=null">
			and substr(building_no_id, length(building_no_id ),1) =
			#{buildingNoId}
		</if>
		<if test="buildingId!=null">
			and building_no_id in(
			select b.id from BUILDING_NO b where
			building_Id=#{buildingId}
			)
		</if>


		)
		and guest_no in(

		select guestno from PROFILE where 1=1
		<if test="name!=null">
			and name like '%${name}%'
		</if>
		)
		limit #{begin} , #{end}

	</select>

	<!--登记主单列表 -->
	<select id="findCanGetCardPaged" resultMap="BaseResultMap"
		parameterType="com.rent.condition.MasterReletCondition">

		SELECT * FROM PRH_MASTER
		where edate>now() and (sta =1 or sta=2 or sta=5 or sta=6)

		and
		house_id in (
		select id from PR_HOUSE where 1=1

		<if test="roomNo!=null">
			and room_no=#{roomNo,jdbcType=DECIMAL}
		</if>
		<if test="estateId!=null">
			and estate_id=#{estateId,jdbcType=DECIMAL}
		</if>
		<if test="buildingNoId!=null">
			and substr(building_no_id, length(building_no_id ),1) =
			#{buildingNoId}
		</if>
		<if test="buildingId!=null">
			and building_no_id in(
			select b.id from BUILDING_NO b where
			building_Id=#{buildingId}
			)
		</if>
		)
		and guest_no in(

		select guestno from PROFILE where 1=1
		<if test="name!=null">
			and name like '%${name}%'
		</if>
		<if test="hasCommonCard!=null">
			<if test="hasCommonCard==0">
				and id not in(
				select master_id from CARD where type=0
				)
			</if>
			<if test="hasCommonCard==1">
				and id in(
				select master_id from CARD where type=0
				)
			</if>
		</if>


		)
		limit #{begin} , #{end}

	</select>

	<!--登记主单数量 -->
	<select id="getCanGetCardCount" resultType="java.lang.Integer"
		parameterType="com.rent.condition.MasterReletCondition">

		SELECT count(*) FROM PRH_MASTER where edate>now() and (sta =1 or
		sta=2 or sta=5 or sta=6 )
		and house_id in (
		select id from PR_HOUSE
		where 1=1
		<if test="roomNo!=null">
			and room_no=#{roomNo,jdbcType=DECIMAL}
		</if>
		<if test="estateId!=null">
			and estate_id=#{estateId,jdbcType=DECIMAL}
		</if>
		<if test="buildingNoId!=null">
			and substr(building_no_id, length(building_no_id ),1) =
			#{buildingNoId}
		</if>
		<if test="buildingId!=null">
			and building_no_id in(
			select b.id from BUILDING_NO b where
			building_Id=#{buildingId}
			)

		</if>

		)
		and guest_no in(

		select guestno from PROFILE where 1=1
		<if test="name!=null">
			and name like '%${name}%'
		</if>
		)

	</select>











	<!--登记主单数量 -->
	<select id="getCountByCheckInRecordPaged" resultType="java.lang.Integer"
		parameterType="com.rent.condition.MasterReletCondition">

		SELECT count(*) FROM PRH_MASTER where edate>now() and (sta =1 or
		sta=2 or sta=5 or sta=6 or
		sta=7 or sta=8 or sta=9)
		and house_id in (
		select id from PR_HOUSE where 1=1
		<if test="roomNo!=null">
			and room_no=#{roomNo,jdbcType=DECIMAL}
		</if>
		<if test="estateId!=null">
			and estate_id=#{estateId,jdbcType=DECIMAL}
		</if>
		<if test="buildingNoId!=null">
			and substr(building_no_id, length(building_no_id ),1) =
			#{buildingNoId}
		</if>
		<if test="buildingId!=null">
			and building_no_id in(
			select b.id from BUILDING_NO b where
			building_Id=#{buildingId}
			)

		</if>

		)
		and guest_no in(

		select guestno from PROFILE where 1=1
		<if test="name!=null">
			and name like '%${name}%'
		</if>
		)

	</select>
	<select id="findById" resultMap="BaseResultMap" parameterType="java.lang.Integer">
		select
		<include refid="Base_Column_List" />
		from PRH_MASTER
		where id = #{id}

	</select>



	<select id="findCountByRenDaliyCondition" resultType="java.lang.Integer"
		parameterType="com.rent.condition.RenDaliyCondition">
		select count(*) from PRH_MASTER where
		1=1 and
		house_id in
		(select id from
		PR_HOUSE where
		1=1
		<if test="estateId!=null">
			and estate_id =#{estateId}
		</if>
		and building_no_id in(
		select id from BUILDING_NO where 1=1
		<if test="no!=null">
			<if test="no!=''">
				and building_id=#{no}
			</if>
		</if>
		)
		<if test="danyuanid!=null">
			<if test="danyuanid!=''">
				and substr(building_no_id, length(building_no_id ),1) =
				#{danyuanid}
			</if>
		</if>
		)
		and guest_no in
		(select guestno from PROFILE where
		1=1
		<if test="name!=null">
			<if test="name!=''">
				and name LIKE
				concat(concat('%',#{name,jdbcType=VARCHAR}),'%')
			</if>
		</if>

		)
		<if test="sta!=null">
			<if test="sta==1">
				and (sta=7 or sta =5)
			</if>
			<if test="sta==2">
				and sta=8
			</if>
			<if test="sta==3">
				and (sta=1 or sta =6)
			</if>
			<if test="sta==''">
				and (sta = 5 or sta=7 or sta =8 or sta=1 or sta =6)
			</if>
		</if>
		<if test="sta==null">
			<if test="sta==''">
				and (sta = 5 or sta=7 or sta =8 or sta=1 or sta =6)
			</if>
		</if>

		<if test="accnt!=null">
			<if test="accnt!=-1">
				and id =#{accnt}
			</if>
		</if>


		<if test="src!=null">
			<if test="src!=''">

				<if test="src==1">
					and src =#{src}

				</if>
				<if test="src==2">
					and src is null
				</if>
			</if>


		</if>
	</select>



	<select id="findByRenDaliyConditionAndPaged" resultMap="BaseResultMap"
		parameterType="com.rent.condition.RenDaliyCondition">

		select * from PRH_MASTER
		where
		1=1 and
		house_id in
		(select id from PR_HOUSE where
		1=1
		<if test="estateId!=null">
			and estate_id =#{estateId}
		</if>
		and building_no_id in(
		select id from BUILDING_NO where 1=1
		<if test="no!=null">
			<if test="no!=''">
				and building_id=#{no}
			</if>
		</if>
		)
		<if test="danyuanid!=null">
			<if test="danyuanid!=''">
				and substr(building_no_id, length(building_no_id ),1) =
				#{danyuanid}
			</if>
		</if>
		)
		and guest_no in
		(select guestno from PROFILE where
		1=1
		<if test="name!=null">
			<if test="name!=''">
				and name LIKE
				concat(concat('%',#{name,jdbcType=VARCHAR}),'%')
			</if>
		</if>

		)
		<if test="sta!=null">
			<if test="sta==1">
				and (sta=7 or sta =5)
			</if>
			<if test="sta==2">
				and sta=8
			</if>
			<if test="sta==3">
				and (sta=1 or sta =6)
			</if>
			<if test="sta==''">
				and (sta = 5 or sta=7 or sta =8 or sta=1 or sta =6)
			</if>
		</if>
		<if test="sta==null">
			<if test="sta==''">
				and (sta = 5 or sta=7 or sta =8 or sta=1 or sta =6)
			</if>
		</if>

		<if test="accnt!=null">
			<if test="accnt!=-1">
				and id =#{accnt}
			</if>
		</if>


		<if test="src!=null">
			<if test="src!=''">

				<if test="src==1">
					and src =#{src}

				</if>
				<if test="src==2">
					and src is null
				</if>
			</if>


		</if>
		order by refer1 desc
		limit #{begin} , #{end}
	</select>



	<select id="findCountByRenDaliyConditionTui" resultType="java.lang.Integer"
		parameterType="com.rent.condition.RenDaliyCondition">
		select count(*) from PRH_MASTER where
		1=1 and
		house_id in
		(select id from
		PR_HOUSE where
		1=1
		<if test="estateId!=null">
			and estate_id =#{estateId}
		</if>
		and building_no_id in(
		select id from BUILDING_NO where 1=1
		<if test="no!=null">
			<if test="no!=''">
				and building_id=#{no}
			</if>
		</if>
		)
		<if test="danyuanid!=null">
			<if test="danyuanid!=''">
				and substr(building_no_id, length(building_no_id ),1) =
				#{danyuanid}
			</if>
		</if>
		)
		and guest_no in
		(select guestno from PROFILE where
		1=1
		<if test="name!=null">
			<if test="name!=''">
				and name LIKE
				concat(concat('%',#{name,jdbcType=VARCHAR}),'%')
			</if>
		</if>

		)
		<if test="sta">
			<if test="sta==2">
				and sta=4
			</if>
			<if test="sta==1">
				and sta=2
			</if>
			<if test="sta==''">
				and (sta=4 or sta=2 )
			</if>
		</if>
		<if test="sta==null">
			and (sta=4 or sta=2 )
		</if>
		<if test="accnt!=null">
			<if test="accnt!=-1">
				and id =#{accnt}
			</if>
		</if>


		<if test="src!=null">
			<if test="src!=''">
				and src =#{src}
			</if>
		</if>
	</select>
	<select id="findByRenDaliyConditionAndPagedTui" resultMap="BaseResultMap"
		parameterType="com.rent.condition.RenDaliyCondition">

		select * from PRH_MASTER
		where
		1=1 and
		house_id in
		(select id from PR_HOUSE where
		1=1
		<if test="estateId!=null">
			and estate_id =#{estateId}
		</if>
		and building_no_id in(
		select id from BUILDING_NO where 1=1
		<if test="no!=null">
			<if test="no!=''">
				and building_id=#{no}
			</if>
		</if>
		)
		<if test="danyuanid!=null">
			<if test="danyuanid!=''">
				and substr(building_no_id, length(building_no_id ),1) =
				#{danyuanid}
			</if>
		</if>
		)
		and guest_no in
		(select guestno from PROFILE where
		1=1
		<if test="name!=null">
			<if test="name!=''">
				and name LIKE
				concat(concat('%',#{name,jdbcType=VARCHAR}),'%')
			</if>
		</if>

		)
		<if test="sta">
			<if test="sta==2">
				and sta=4
			</if>
			<if test="sta==1">
				and sta=2
			</if>
			<if test="sta==''">
				and (sta=4 or sta=2 )
			</if>
		</if>
		<if test="sta==null">
			and (sta=4 or sta=2 )
		</if>

		<if test="accnt!=null">
			<if test="accnt!=-1">
				and id =#{accnt}
			</if>
		</if>


		<if test="src!=null">
			<if test="src!=''">
				and src =#{src}
			</if>
		</if>
		order by sta
		limit #{begin} , #{end}
	</select>

	<select id="findMasterCountByrentAccount" resultType="java.lang.Integer"
		parameterType="com.rent.condition.renAcountCondition">
		select count(*) from PRH_MASTER where
		1=1 and
		house_id in
		(select id from
		PR_HOUSE where
		1=1
		<if test="danyuan!=null">
			<if test="danyuan!=''">
				building_no_id=#{danyuan}
			</if>
		</if>

		<if test="buildno!=null">
			<if test="buildno!=''">
				and building_no_id in(
				select b.id from BUILDING_NO b
				where building_Id=#{buildno}
				)
			</if>
		</if>
		<if test="estateId!=null">
			and estate_id =#{estateId}
		</if>
		<if test="roomno!=null">
			<if test="roomno!=''">
				and roomno =#{roomno}
			</if>
		</if>
		)
		and guest_no in
		(select guestno from PROFILE where
		1=1
		<if test="name!=null">
			<if test="name!=''">
				and name like '%${name}%'
			</if>
		</if>

		)
		<if test="account1!=null">
			<if test="account1!=''">
				and refer1=#{account1}
				<if test="account2!=null">
					<if test="account2!=''">
						or refer1=#{account2}
					</if>
				</if>
			</if>
			<if test="account1==''">
				<if test="account2==''">
					and refer1=1 or refer1=2
				</if>
			</if>
		</if>
		<if test="account1==null">
			<if test="account2==null">
				and refer1=1 or refer1=2
			</if>
		</if>




	</select>



	<select id="findMasterByrentAccountAndPaged" resultMap="BaseResultMap"
		parameterType="com.rent.condition.renAcountCondition">


		select * from PRH_MASTER
		where
		1=1 and
		house_id in
		(select id from PR_HOUSE where
		1=1
		<if test="danyuan!=null">
			<if test="danyuan!=''">
				building_no_id=#{danyuan}
			</if>
		</if>

		<if test="buildno!=null">
			<if test="buildno!=''">
				and building_no_id in(
				select b.id from BUILDING_NO b
				where building_Id=#{buildno}
				)
			</if>
		</if>
		<if test="estateId!=null">
			and estate_id =#{estateId}
		</if>
		<if test="roomno!=null">
			<if test="roomno!=''">
				and roomno =#{roomno}
			</if>
		</if>
		)
		and guest_no in
		(select guestno from PROFILE where
		1=1
		<if test="name!=null">
			<if test="name!=''">
				and name like '%${name}%'
			</if>
		</if>

		)
		<if test="account1!=null">
			<if test="account1!=''">
				and refer1=#{account1}
				<if test="account2!=null">
					<if test="account2!=''">
						or refer1=#{account2}
					</if>
				</if>
			</if>
			<if test="account1==''">
				<if test="account2==''">
					and refer1=1 or refer1=2
				</if>
			</if>
		</if>
		<if test="account1==null">
			<if test="account2==null">
				and refer1=1 or refer1=2
			</if>
		</if>


		limit #{begin} , #{end}

	</select>

	<select id="findByGuestNo" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		select * from PRH_MASTER
		where guest_no=#{guestno}
	</select>



	<select id="findByCusNo" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		select * from PRH_MASTER
		where guest_no in(
		select guestno
		from PROFILE where cusno=#{cusNo}
		and sta='A' and class='C'
		)
	</select>

	<select id="findAllCountByCondition" resultType="java.lang.Integer"
		parameterType="com.rent.condition.MasterCondition">

		select count(*) from
		PRH_MASTER where house_id in (select id from
		PR_HOUSE where 1=1
		<if test="estateId!=null">
			<if test="estateId!=''">
				and estate_id =#{estateId}
			</if>
		</if>
		and building_no_id in (select id from BUILDING_NO where
		1=1
		<if test="no!=null">
			<if test="no!=''">
				and building_id=#{no}
			</if>
		</if>
		)
		<if test="buildingNoId!=null">
			<if test="buildingNoId!=''">
				and substr(building_no_id, length(building_no_id ),1) =
				#{buildingNoId}
			</if>
		</if>
		)

		and guest_no in (select guestno from PROFILE where 1=1
		<if test="name!=null">
			<if test="name!=''">
				and name LIKE
				concat(concat('%',#{name,jdbcType=VARCHAR}),'%')
			</if>
		</if>
		)


	</select>
	<select id="findAllByConditionAndPaged" resultMap="BaseResultMap"
		parameterType="com.rent.condition.MasterCondition">

		select * from
		PRH_MASTER where
		house_id in (select id from PR_HOUSE where 1=1
		<if test="estateId!=null">
			<if test="estateId!=''">
				and estate_id =#{estateId}
			</if>
		</if>
		and building_no_id in (select id from BUILDING_NO where
		1=1
		<if test="no!=null">
			<if test="no!=''">
				and building_id=#{no}
			</if>
		</if>
		)
		<if test="buildingNoId!=null">
			<if test="buildingNoId!=''">
				and substr(building_no_id, length(building_no_id ),1) =
				#{buildingNoId}
			</if>
		</if>
		)

		and guest_no in (select guestno from PROFILE where 1=1
		<if test="name!=null">
			<if test="name!=''">
				and name LIKE
				concat(concat('%',#{name,jdbcType=VARCHAR}),'%')
			</if>
		</if>
		)
		limit #{begin} , #{end}

	</select>

	<select id="findHistory" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		select * from PRH_MASTER where guest_no=#{guestno} and
		sta = 9
	</select>

	<select id="findByHouseId" resultMap="BaseResultMap"
		parameterType="java.lang.Integer">
		select * from PRH_MASTER where house_id=#{houseid} order
		by edate
	</select>

	<select id="findArreaseHouse" resultMap="BaseResultMap"
		parameterType="java.lang.Integer">
		select * from PRH_MASTER where house_id in (select id
		from PR_HOUSE where state=3)
	</select>

	<select id="findCountByRenDaliyConditionTai" resultType="java.lang.Integer"
		parameterType="com.rent.condition.RenDaliyCondition">
		select count(*) from PRH_MASTER where
		1=1 and
		sta !=4 and sta !=9 and

		house_id in
		(select id from PR_HOUSE where
		1=1
		<if test="estateId!=null">
			and estate_id =#{estateId}
		</if>
		and building_no_id in(
		select id from BUILDING_NO where 1=1
		<if test="no!=null">
			<if test="no!=''">
				and building_id=#{no}
			</if>
		</if>
		)
		<if test="danyuanid!=null">
			<if test="danyuanid!=''">
				and substr(building_no_id, length(building_no_id ),1) =
				#{danyuanid}
			</if>
		</if>

		and state =3
		)
		and guest_no in
		(select guestno from PROFILE where
		1=1
		<if test="name!=null">
			<if test="name!=''">
				and name LIKE
				concat(concat('%',#{name,jdbcType=VARCHAR}),'%')
			</if>
		</if>

		)
		<if test="accnt!=null">
			<if test="accnt!=-1">
				and id =#{accnt}
			</if>
		</if>


		<if test="src!=null">
			<if test="src!=''">
				and src =#{src}
			</if>
		</if>
	</select>

	<select id="findCountByRenDaliyConditionTaiAndPaged" resultMap="BaseResultMap"
		parameterType="com.rent.condition.RenDaliyCondition">

		select * from PRH_MASTER
		where
		1=1 and
		sta !=4 and sta !=9 and
		house_id in
		(select id from PR_HOUSE
		where
		1=1
		<if test="estateId!=null">
			and estate_id =#{estateId}
		</if>
		and building_no_id in(
		select id from BUILDING_NO where 1=1
		<if test="no!=null">
			<if test="no!=''">
				and building_id=#{no}
			</if>
		</if>
		)
		<if test="danyuanid!=null">
			<if test="danyuanid!=''">
				and substr(building_no_id, length(building_no_id ),1) =
				#{danyuanid}
			</if>
		</if>

		and state =3
		)
		and guest_no in
		(select guestno from PROFILE where
		1=1
		<if test="name!=null">
			<if test="name!=''">
				and name LIKE
				concat(concat('%',#{name,jdbcType=VARCHAR}),'%')
			</if>
		</if>

		)
		<if test="accnt!=null">
			<if test="accnt!=-1">
				and id =#{accnt}
			</if>
		</if>


		<if test="src!=null">
			<if test="src!=''">
				and src =#{src}
			</if>
		</if>

		limit #{begin} , #{end}
	</select>


	<select id="findCountByRenDaliyConditionTaiDate" resultType="java.lang.Integer"
		parameterType="com.rent.condition.RenDaliyCondition">
		select *
		from PRH_RENTAL where 1=1

		<if test="today!=null">
			<if test="today!=''">
				and
				(( ADDDATE(#{today},INTERVAL 1 MONTH) between bdate and edate) and
				STA='F')
			</if>
		</if>

		and accnt in (select id from PRH_MASTER where 1=1
		<if test="name!=null">
			<if test="name!=''">
				and guest_no in(select guestno from PROFILE where name
				like '%${name}%'
				)
			</if>
		</if>

		and house_id in (select id from PR_HOUSE where 1=1
		<if test="estateId!=null">
			<if test="estateId!=''">
				and estate_id=#{estateId}
			</if>
		</if>
		and building_no_id in (select id from BUILDING_NO where 1=1
		<if test="danyuanid!=null">
			<if test="danyuanid!=''">
				and id=#{danyuanid}
			</if>
		</if>
		<if test="no!=null">
			<if test="no!=''">
				and building_id =#{no}
			</if>
		</if>
		)))

	</select>

	<select id="findCountByRenDaliyConditionTaiDateAndPaged"
		resultType="java.lang.Integer" parameterType="com.rent.condition.RenDaliyCondition">
		select *
		from PRH_RENTAL where
		1=1

		<if test="today!=null">
			<if test="today!=''">
				and
				(( ADDDATE(#{today},INTERVAL 1 MONTH) between bdate and edate) and
				STA='F')
			</if>
		</if>

		and accnt in (select id from PRH_MASTER where 1=1
		<if test="name!=null">
			<if test="name!=''">
				and guest_no in(select guestno from PROFILE where name
				like
				'%${name}%')
			</if>
		</if>

		and house_id in (select id from PR_HOUSE where 1=1
		<if test="estateId!=null">
			<if test="estateId!=''">
				and estate_id=#{estateId}
			</if>
		</if>
		and building_no_id in (select id from BUILDING_NO where 1=1
		<if test="danyuanid!=null">
			<if test="danyuanid!=''">
				and id=#{danyuanid}
			</if>
		</if>
		<if test="no!=null">
			<if test="no!=''">
				and building_id =#{no}
			</if>
		</if>
		)))
		limit #{begin} , #{end}
	</select>

	<select id="findCountByRenDaliyConditionHe" resultType="java.lang.Integer"
		parameterType="com.rent.condition.RenDaliyCondition">
		select count(*) from PRH_MASTER where
		1=1 and
		house_id in
		(select id from
		PR_HOUSE where
		1=1
		<if test="estateId!=null">
			and estate_id =#{estateId}
		</if>
		and building_no_id in(
		select id from BUILDING_NO where 1=1
		<if test="no!=null">
			<if test="no!=''">
				and building_id=#{no}
			</if>
		</if>
		)
		<if test="danyuanid!=null">
			<if test="danyuanid!=''">
				and substr(building_no_id, length(building_no_id ),1) =
				#{danyuanid}
			</if>
		</if>
		)
		and guest_no in
		(select guestno from PROFILE where
		1=1
		<if test="name!=null">
			<if test="name!=''">
				and name LIKE
				concat(concat('%',#{name,jdbcType=VARCHAR}),'%')
			</if>
		</if>

		)
		<if test="sta!=null">

			<if test="sta==2">
				and sta=8
			</if>
			<if test="sta==3">
				and (sta=1 or sta =6)
			</if>
			<if test="sta==''">
				and (sta = 5 or sta =8 or sta=1 or sta =6)
			</if>
		</if>
		<if test="sta==null">
			<if test="sta==''">
				and (sta = 5 or sta =8 or sta=1 or sta =6)
			</if>
		</if>

		<if test="accnt!=null">
			<if test="accnt!=-1">
				and id =#{accnt}
			</if>
		</if>


		<if test="src!=null">
			<if test="src!=''">

				<if test="src==1">
					and refer1 =#{src}

				</if>
				<if test="src==2">
					and refer1 is null or refer1 =''
				</if>
			</if>


		</if>
	</select>

	<select id="findByRenDaliyConditionAndPagedHe" resultMap="BaseResultMap"
		parameterType="com.rent.condition.RenDaliyCondition">

		select * from PRH_MASTER
		where
		1=1 and
		house_id in
		(select id from PR_HOUSE where
		1=1
		<if test="estateId!=null">
			and estate_id =#{estateId}
		</if>
		and building_no_id in(
		select id from BUILDING_NO where 1=1
		<if test="no!=null">
			<if test="no!=''">
				and building_id=#{no}
			</if>
		</if>
		)
		<if test="danyuanid!=null">
			<if test="danyuanid!=''">
				and substr(building_no_id, length(building_no_id ),1) =
				#{danyuanid}
			</if>
		</if>
		)
		and guest_no in
		(select guestno from PROFILE where
		1=1
		<if test="name!=null">
			<if test="name!=''">
				and name LIKE
				concat(concat('%',#{name,jdbcType=VARCHAR}),'%')
			</if>
		</if>

		)
		<if test="sta!=null">

			<if test="sta==2">
				and sta=8
			</if>
			<if test="sta==3">
				and (sta=1 or sta =6)
			</if>
			<if test="sta==''">
				and (sta = 5 or sta =8 or sta=1 or sta =6)
			</if>
		</if>
		<if test="sta==null">
			<if test="sta==''">
				and (sta = 5 or sta =8 or sta=1 or sta =6)
			</if>
		</if>

		<if test="accnt!=null">
			<if test="accnt!=-1">
				and id =#{accnt}
			</if>
		</if>


		<if test="src!=null">
			<if test="src!=''">

				<if test="src==1">
					and refer1 =#{src}

				</if>
				<if test="src==2">
					and refer1 is null or refer1 = ''
				</if>
			</if>


		</if>
		order by refer1 desc
		limit #{begin} ,#{end}
	</select>


	<select id="findMastersByEstate" resultMap="BaseResultMap"
		parameterType="java.lang.Integer">
		select * from PRH_MASTER
		where house_id in (
		select id
		from PR_HOUSE
		where estate_id =#{estateId}
		)
	</select>


	<select id="getLiveInGuestCount" resultType="java.lang.Integer"
		parameterType="java.lang.String">
		select (
		select count(*) from PRH_MASTER where sta!=4 and
		sta!=9
		and guest_no in (
		select guestno from PROFILE where idno=#{idno}
		)
		)
		+ (
		select count(*) from PRH_LINKMAN where master_id in(
		select id
		from PRH_MASTER where sta!=4 and sta!=9
		)
		and guestno in (
		select guestno
		from PROFILE where idno=#{idno}
		)

		and (del!=1 or del is null)
		) from dual



	</select>


	<select id="findRentersExportPaged" resultMap="BaseResultMap"
		parameterType="com.rent.condition.MasterCondition">

		SELECT * FROM PRH_MASTER
		where 1=1
		<if test="masterType==1">
			and (sta=1 or sta=2 or sta=5 or sta=6 )
		</if>
		<if test="masterType==4">
			and sta=4
		</if>
		<if test="masterType==7">
			and sta=7
		</if>
		<if test="masterType==8">
			and sta=8
		</if>
		<if test="subsidyTypeId!=null and subsidyTypeId!=-1">
			and subsidy_type_id=#{subsidyTypeId}
		</if>

		and house_id in (
		select id from PR_HOUSE where 1=1

		<if test="estateId!=null">
			and estate_id=#{estateId,jdbcType=DECIMAL}
		</if>
		<if test="buildingNoId!=null">
			and substr(building_no_id, length(building_no_id ),1) =
			#{buildingNoId}
		</if>


		<if test="buildingId!=null">
			and building_no_id in(
			select b.id from BUILDING_NO b where
			building_Id=#{buildingId}
			)
		</if>

		<if test="minArea != null and maxArea!=null">
			and AREA >= #{minArea,jdbcType=DECIMAL} and AREA &lt;=
			#{maxArea,jdbcType=DECIMAL}
		</if>

		)limit #{begin } ,#{end}


	</select>

	<select id="findRentersExport" resultMap="BaseResultMap"
		parameterType="com.rent.condition.MasterCondition">

		SELECT * FROM PRH_MASTER
		where 1=1
		<if test="masterType==1">
			and (sta=1 or sta=2 or sta=5 or sta=6 )
		</if>
		<if test="masterType==4">
			and sta=4
		</if>
		<if test="masterType==7">
			and sta=7
		</if>
		<if test="masterType==8">
			and sta=8
		</if>
		<if test="subsidyTypeId!=null and subsidyTypeId!=-1">
			and subsidy_type_id=#{subsidyTypeId}
		</if>

		and house_id in (
		select id from PR_HOUSE where 1=1

		<if test="estateId!=null">
			and estate_id=#{estateId,jdbcType=DECIMAL}
		</if>
		<if test="buildingNoId!=null">
			and substr(building_no_id, length(building_no_id ),1) =
			#{buildingNoId}
		</if>


		<if test="buildingId!=null">
			and building_no_id in(
			select b.id from BUILDING_NO b where
			building_Id=#{buildingId}
			)
		</if>

		<if test="minArea != null and maxArea!=null">
			and AREA >= #{minArea,jdbcType=DECIMAL} and AREA &lt;=
			#{maxArea,jdbcType=DECIMAL}
		</if>
		)



	</select>

	<select id="getCountRentersExport" resultType="java.lang.Integer"
		parameterType="com.rent.condition.MasterCondition">
		SELECT count(*) FROM PRH_MASTER
		where 1=1
		<if test="masterType==1">
			and (sta=1 or sta=2 or sta=5 or sta=6 )
		</if>
		<if test="masterType==4">
			and sta=4
		</if>
		<if test="masterType==7">
			and sta=7
		</if>
		<if test="masterType==8">
			and sta=8
		</if>

		<if test="subsidyTypeId!=null and subsidyTypeId!=-1">
			and subsidy_type_id=#{subsidyTypeId}
		</if>

		and house_id in (
		select id from PR_HOUSE where 1=1

		<if test="estateId!=null">
			and estate_id=#{estateId,jdbcType=DECIMAL}
		</if>
		<if test="buildingNoId!=null">
			and substr(building_no_id, length(building_no_id ),1) =
			#{buildingNoId}
		</if>


		<if test="buildingId!=null">
			and building_no_id in(
			select b.id from BUILDING_NO b where
			building_Id=#{buildingId}
			)
		</if>

		<if test="minArea != null and maxArea!=null">
			and AREA >= #{minArea,jdbcType=DECIMAL} and AREA &lt;=
			#{maxArea,jdbcType=DECIMAL}
		</if>
		)
	</select>


	<select id="findAllBatchs" resultType="java.lang.String">

		select distinct batch from PRH_MASTER
		where
		1=1
		and house_id in (
		select
		id from PR_HOUSE where estate_id=#{estateId,jdbcType=DECIMAL}
		)
		<if test="batch!=null">
			and batch=#{batch,jdbcType=VARCHAR }
		</if>

	</select>

	<select id="findMastersByBatchs" resultMap="BaseResultMap">
		select * from PRH_MASTER
		where
		1=1
		and batch=#{batch,jdbcType=VARCHAR}
		and house_id in (
			select id from PR_HOUSE where estate_id=#{estateId,jdbcType=DECIMAL}
		)
	</select>
	
	
</mapper>